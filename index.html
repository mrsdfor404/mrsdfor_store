<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MR Store</title>
<style>
body { font-family: "Tajawal", sans-serif; background:#0b0f1a; color:#fff; margin:0; padding:0; text-align:center; }
header { background:#111726; padding:15px; font-size:24px; font-weight:bold; color:#4da3ff; letter-spacing:1px; }
nav { background:#131a2c; display:flex; justify-content:center; flex-wrap:wrap; }
nav a { color:#4da3ff; text-decoration:none; padding:14px 20px; font-weight:bold; cursor:pointer; transition:0.3s; }
nav a:hover { color:#6bb3ff; }
.container { max-width:700px; margin:30px auto; padding:25px; background:#111726; border-radius:15px; border:1px solid #4da3ff55; text-align:right; }
label { display:block; margin-top:15px; font-weight:bold; }
input, select, textarea { width:100%; padding:12px; margin-top:5px; border:none; border-radius:8px; font-size:1em; }
textarea { resize:vertical; min-height:60px; }
button { margin-top:20px; width:100%; padding:15px; font-size:1.2em; background:#4da3ff; color:#0b0f1a; border:none; border-radius:12px; cursor:pointer; transition:0.3s; }
button:hover { background:#6bb3ff; transform:scale(1.03); }
.note { margin-top:20px; background:#131a2c; padding:12px; border-radius:8px; color:#ffcc00; font-weight:bold; text-align:center; }
.success-popup { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); justify-content:center; align-items:center; z-index:9999; }
.popup-content { background:#111726; padding:30px; border-radius:20px; text-align:center; border:1px solid #4da3ff55; }
.popup-content h2 { color:#00ffcc; margin-bottom:15px; }
.popup-content p { color:#fff; font-size:1.1em; margin-bottom:20px; }
.popup-content button { background:#4da3ff; color:#0b0f1a; border:none; padding:10px 30px; border-radius:10px; font-size:1em; cursor:pointer; font-weight:bold; }
.popup-content button:hover { background:#6bb3ff; }
.crown { font-size:50px; color:#ffd700; text-shadow:0 0 10px #ffdf00; }
.total { color:#ffd700; font-weight:bold; margin-top:10px; font-size:1.2em; }
footer { background:#111726; padding:20px; margin-top:20px; color:#bbb; }
</style>
</head>
<body>

<header>MR Store</header>
<nav>
    <a onclick="showPayment()">Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</a>
    <a onclick="showProducts()">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
</nav>

<!-- Ù‚Ø³Ù… Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹ -->
<div class="container" id="paymentSection" style="display:none;">
<h2 style="color:#ffd700; text-align:center; margin-bottom:15px;">Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</h2>
<p style="line-height:1.8; font-size:1.1em;">
ÙŠØªÙˆÙØ± Ø¯ÙØ¹ Ø¹Ù† Ø·Ø±ÙŠÙ‚:<br>
â€¢ Ù…Ø­ÙØ¸Ø© U Wallet<br>
â€¢ Zain Cash<br>
â€¢ Orange Money<br>
â€¢ Click<br><br>
ÙÙŠ Ø­Ø§Ù„ Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ ØªØ¯Ø¹Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¨Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ¹Ø§Ø± Ù‚Ù… Ø¨ÙˆØ¶Ø¹:<br>
<b id="aliasName" style="color:#ffd700; font-size:1.3em;">MRSDFOR</b>
</p>
<button onclick="copyAlias()">Ù†Ø³Ø® Ø§Ù„Ø§Ø³Ù…</button>
</div>

<!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
<div class="container" id="productsSection" style="display:none;">
<form id="orderForm">
<label for="category">Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù…:</label>
<select id="category" onchange="updateCategory()" required>
<option value="">-- Ø§Ø®ØªØ± --</option>
<option value="games">Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</option>
<option value="psn">PSN CARDS</option>
</select>

<!-- Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ -->
<div id="gamesSection" style="display:none;">
<label for="game">Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„Ø¹Ø¨Ø©:</label>
<select id="game" onchange="updateGameOptions()">
<option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù„Ø¹Ø¨Ø© --</option>
<option value="pubg">PUBG Mobile</option>
<option value="freefire">Free Fire</option>
<option value="deltaforce">Delta Force Mobile</option>
<option value="roblox">Roblox (USA)</option>
<option value="newstate">PUBG New State</option>
</select>

<div id="gameAmountSection" style="display:none;">
<label for="gameAmount">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø§Ù‚Ø© (ÙŠÙ…ÙƒÙ† Ø§Ø®ØªÙŠØ§Ø± Ø­ØªÙ‰ 3 Ø¨Ø§Ù‚Ø§Øª):</label>
<select id="gameAmount" multiple onchange="calculateTotal('game')"></select>
<div class="total" id="gameTotal"></div>
</div>

<div>
<label for="gameDiscount">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®ØµÙ… (Ù…Ø±Ø© ÙƒÙ„ Ø³Ø§Ø¹ØªÙŠÙ†):</label>
<select id="gameDiscount" onchange="applyDiscount('gameAmount','gameDiscount')">
<option value="no">Ù„Ø§</option>
<option value="yes">Ù†Ø¹Ù… - Ø®ØµÙ… 1.5%</option>
</select>
</div>
</div>

<!-- PSN -->
<div id="psnSection" style="display:none;">
<label for="psnType">Ø§Ø®ØªØ± Ù†ÙˆØ¹ PSN:</label>
<select id="psnType" onchange="updatePSNOptions()">
<option value="">-- Ø§Ø®ØªØ± --</option>
<option value="usa">PSN USA</option>
<option value="sa">PSN SA</option>
</select>

<div id="psnAmountSection" style="display:none;">
<label for="psnAmount">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø§Ù‚Ø© (ÙŠÙ…ÙƒÙ† Ø§Ø®ØªÙŠØ§Ø± Ø­ØªÙ‰ 3 Ø¨Ø§Ù‚Ø§Øª):</label>
<select id="psnAmount" multiple onchange="calculateTotal('psn')"></select>
<label for="psnDelivery">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…:</label>
<select id="psnDelivery" onchange="applyDiscount('psnAmount','psnDelivery')">
<option value="direct">ØªÙ†Ø´Ø­Ù† Ù„Ø­Ø³Ø§Ø¨ÙŠ Ù…Ø¨Ø§Ø´Ø±Ø©</option>
<option value="code">Ø§Ø³ØªÙ„Ø§Ù… ÙƒÙˆØ¯ (Ø®ØµÙ… 1.5%)</option>
</select>
<div class="total" id="psnTotal"></div>
</div>
</div>

<!-- Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ -->
<div id="detailsSection" style="display:none;">
<label for="username">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… / ID:</label><input type="text" id="username" required>
<label for="insta">Ø¥Ù†Ø³ØªØºØ±Ø§Ù…:</label><input type="text" id="insta" placeholder="@username" required>
<label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label><input type="email" id="email" required>
<label for="notes">Ù…Ù„Ø§Ø­Ø¸Ø§Øª:</label><textarea id="notes"></textarea>
<button type="button" onclick="sendOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
<div class="note">âš ï¸ ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</div>
</div>
</form>
</div>

<div class="success-popup" id="successPopup">
<div class="popup-content">
<div class="crown">ğŸ‘‘</div>
<h2>Ø´ÙƒØ±Ø§Ù‹ Ù„ØªØ¹Ø§Ù…Ù„Ùƒ Ù…Ø¹ MR Store</h2>
<p>ØªÙ… Ù†Ø³Ø® Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø·Ù„Ø¨Ùƒ Ø¥Ù„Ù‰ Ø§Ù„Ø¨Ø±ÙŠØ¯.</p>
<button onclick="closePopup()">ØªÙ…</button>
</div>
</div>

<footer>ğŸ“§ Ø¯Ø¹Ù…: <a href="mailto:elzw520@gmail.com">elzw520@gmail.com</a> | Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª: <a href="mailto:asdm86411@gmail.com">asdm86411@gmail.com</a><br>Â© 2025 MR Store</footer>

<script>
// Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
const pubgOptions=["30 Ø´Ø¯Ø§Øª - 0.40 Ø¯.Ø£","60 Ø´Ø¯Ø§Øª - 0.70 Ø¯.Ø£","300+25 - 3.5 Ø¯.Ø£","600+60 - 6.60 Ø¯.Ø£","1500+300 - 16.50 Ø¯.Ø£"];
const freefireOptions=["110 Ø¬ÙˆØ§Ù‡Ø± - 0.80 Ø¯.Ø£","231 - 1.50 Ø¯.Ø£","583 - 3.60 Ø¯.Ø£","1188 - 7.15 Ø¯.Ø£","2420 - 14.30 Ø¯.Ø£"];
const deltaforceOptions=["19 - 0.30 Ø¯.Ø£","32 - 0.45 Ø¯.Ø£","63 - 0.80 Ø¯.Ø£","336 - 4 Ø¯.Ø£","482 - 5.50 Ø¯.Ø£","785 - 7.40 Ø¯.Ø£"];
const robloxOptions=["$10 - 7.60 Ø¯.Ø£","$20 - 14.60 Ø¯.Ø£","$25 - 18 Ø¯.Ø£","$40 - 28.60 Ø¯.Ø£","$50 - 35.65 Ø¯.Ø£","$100 - 71 Ø¯.Ø£"];
const newstateOptions=["300 NC - 1 Ø¯.Ø£","1500+80 NC - 3.80 Ø¯.Ø£","3600+250 NC - 8.90 Ø¯.Ø£","9300+930 NC - 22.50 Ø¯.Ø£"];
const psnUSAOptions=["$10 - 7.20 Ø¯.Ø£","$25 - 17.85 Ø¯.Ø£","$50 - 32.80 Ø¯.Ø£","$55 - 39.50 Ø¯.Ø£","$75 - 53.50 Ø¯.Ø£"];
const psnSAOptions=["$10 - 8.25 Ø¯.Ø£","$20 - 15.20 Ø¯.Ø£","$40 - 30.40 Ø¯.Ø£","$50 - 37.75 Ø¯.Ø£","$70 - 52.35 Ø¯.Ø£"];

// Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
function showPayment(){document.getElementById("paymentSection").style.display="block";document.getElementById("productsSection").style.display="none";}
function showProducts(){document.getElementById("productsSection").style.display="block";document.getElementById("paymentSection").style.display="none";}

// ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ¦Ø§Øª
function updateCategory(){
    let cat=document.getElementById("category").value;
    document.getElementById("gamesSection").style.display=cat=="games"?'block':'none';
    document.getElementById("psnSection").style.display=cat=="psn"?'block':'none';
    document.getElementById("detailsSection").style.display='none';
}

// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
function updateGameOptions(){
    const game=document.getElementById("game").value;
    const select=document.getElementById("gameAmount");
    select.innerHTML="";
    let opts=[];
    if(game=="pubg") opts=pubgOptions;
    else if(game=="freefire") opts=freefireOptions;
    else if(game=="deltaforce") opts=deltaforceOptions;
    else if(game=="roblox") opts=robloxOptions;
    else if(game=="newstate") opts=newstateOptions;
    opts.forEach(o=>{
        let option=document.createElement("option");
        option.value=o;
        option.textContent=o;
        select.appendChild(option);
    });
    document.getElementById("gameAmountSection").style.display=opts.length?'block':'none';
}

// PSN
function updatePSNOptions(){
    const type=document.getElementById("psnType").value;
    const select=document.getElementById("psnAmount");
    select.innerHTML="";
    let opts=type=="usa"?psnUSAOptions:psnSAOptions;
    opts.forEach(o=>{
        let option=document.createElement("option");
        option.value=o;
        option.textContent=o;
        select.appendChild(option);
    });
    document.getElementById("psnAmountSection").style.display=opts.length?'block':'none';
}

// Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 3 Ø¨Ø§Ù‚Ø§Øª
function calculateTotal(section){
    let total=0;
    let sel=document.getElementById(section+"Amount");
    if(sel.selectedOptions.length>3){
        alert("ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± Ø­ØªÙ‰ 3 Ø¨Ø§Ù‚Ø§Øª ÙÙ‚Ø·.");
        // Ø¥Ù„ØºØ§Ø¡ Ø¢Ø®Ø± Ø§Ø®ØªÙŠØ§Ø±
        sel.selectedOptions[sel.selectedOptions.length-1].selected=false;
    }
    Array.from(sel.selectedOptions).forEach(opt=>{
        let price=parseFloat(opt.value.split('-')[1].replace('Ø¯.Ø£','').trim());
        total+=price;
    });
    document.getElementById(section+"Total").innerText="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: "+total.toFixed(2)+" Ø¯.Ø£";
}

// Ø§Ù„Ø®ØµÙ… Ù…Ø±Ø© ÙƒÙ„ Ø³Ø§Ø¹ØªÙŠÙ†
function applyDiscount(selectId, deliveryId){
    const lastUsed=localStorage.getItem("discountUsedTime");
    const now=new Date().getTime();
    const twoHours=2*60*60*1000;
    let discountAllowed=true;
    if(lastUsed && now-lastUsed<twoHours){
        discountAllowed=false;
        alert("ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø®ØµÙ… Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· ÙƒÙ„ Ø³Ø§Ø¹ØªÙŠÙ†. Ø­Ø§ÙˆÙ„ Ù„Ø§Ø­Ù‚Ø§Ù‹.");
    }
    let select=document.getElementById(selectId);
    Array.from(select.options).forEach(o=>{
        let parts=o.value.split('-');
        let price=parseFloat(parts[1].replace('Ø¯.Ø£','').trim());
        if(document.getElementById(deliveryId).value!="no" && discountAllowed){
            price=(price*0.985).toFixed(2);
            localStorage.setItem("discountUsedTime",now);
        }
        o.value=parts[0].trim()+" - "+price+" Ø¯.Ø£";
        o.textContent=parts[0].trim()+" - "+price+" Ø¯.Ø£";
    });
    calculateTotal(selectId=="gameAmount"?'game':'psn');
}

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
function sendOrder(){
    let category=document.getElementById("category").value;
    let product="",amount="";
    if(category=="games"){
        let sel=document.getElementById("gameAmount");
        let selected=Array.from(sel.selectedOptions).map(o=>o.value);
        product=document.getElementById("game").value;
        amount=selected.join(', ');
    }else if(category=="psn"){
        let sel=document.getElementById("psnAmount");
        let selected=Array.from(sel.selectedOptions).map(o=>o.value);
        product=document.getElementById("psnType").value;
        amount=selected.join(', ')+" ("+document.getElementById("psnDelivery").value+")";
    }
    let username=document.getElementById("username").value;
    let insta=document.getElementById("insta").value;
    let email=document.getElementById("email").value;
    let notes=document.getElementById("notes").value;
    if(!category || !product || !amount || !username || !insta || !email){
        alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­");
        return;
    }
    let mailto_link=`mailto:asdm86411@gmail.com?subject=Ø·Ù„Ø¨ Ù…Ù† MR Store&body=Ø§Ù„Ù‚Ø³Ù…: ${category}%0AØ§Ù„Ù…Ù†ØªØ¬: ${product}%0AØ§Ù„Ø¨Ø§Ù‚Ø©: ${amount}%0AØ§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: ${username}%0AØ¥Ù†Ø³ØªØºØ±Ø§Ù…: ${insta}%0AØ§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: ${email}%0AÙ…Ù„Ø§Ø­Ø¸Ø§Øª: ${notes}`;
    window.open(mailto_link);
    document.getElementById("successPopup").style.display="flex";
    document.getElementById("orderForm").reset();
    document.getElementById("gamesSection").style.display="none";
    document.getElementById("psnSection").style.display="none";
    document.getElementById("gameAmountSection").style.display="none";
    document.getElementById("psnAmountSection").style.display="none";
    document.getElementById("detailsSection").style.display="none";
    document.getElementById("gameTotal").innerText="";
    document.getElementById("psnTotal").innerText="";
}

// Ù†Ø³Ø® Ø§Ù„Ø§Ø³Ù…
function copyAlias(){
    navigator.clipboard.writeText(document.getElementById("aliasName").innerText);
    alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø§Ø³Ù…!");
}

// Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
function closePopup(){document.getElementById("successPopup").style.display="none";}
</script>
</body>
</html>
